<h4 *ngIf="list_position_open.length<=0" class="text-secondary text-center">
    No hay informacion para mostrar 
</h4>

<div *ngIf="list_position_open.length>0" >
  <div class="table-responsive">
     <table class="table table-dark table-striped">
          <thead class="">
                <tr>
                      <th>No.</th>
                      <td>date</td>
                      <td>symbol</td>
                      <td>tick</td>
                      <td>ATR</td>
                      <td>trendDirection</td>
                      <td>Entry price</td>
                      <td>side</td>
                      <td>monedas</td>
                      <td>price Tp</td>
                      <td>price Sl</td>
                      <td>tp</td>
                      <td>sl</td>
                      <td>candles</td>
                      <td></td>
                </tr>
          </thead>
          <tbody class="table-group-divider">
                <ng-container *ngFor="let order of list_position_open; let i=index">
                      <tr [ngClass]="{'table-success': order?.gestion?.side==='Buy',
                      'table-danger':order?.gestion?.side ==='Sell'}" >
                            <td>{{i+1}}</td>
                            <td>{{order?.gestion?.date}}</td>
                            <td>{{order?.gestion?.symbol}}</td>
                            <td>{{order?.gestion?.tick}}</td>
                            <td>{{order?.gestion?.atr}}</td>
                            <td>
                               
                              
                                 <div class="text-binance-last mb-1 d-block" [ngClass]="{'circleGreen': order.gestion.tendenciaDirection.trend==='long', 'circleRed': order.gestion.tendenciaDirection.trend==='short'}"></div>
                               
                                  <span *ngIf="order.gestion.tendenciaDirection.trend==='short'">Bajista</span>
                                  <span *ngIf="order.gestion.tendenciaDirection.trend==='long'">Alcista</span>
                                 <span class="d-block">priceLinea: {{order.gestion.tendenciaDirection.value}}$</span>
                            </td>
                            <td>{{order.gestion. entryPrice}}$</td>             
                            <td>{{order.gestion.side}}</td>
                            <td>{{order.gestion.qty}}</td>
                            <td>{{order.gestion.tpPrecio}}$ <strong class="text-success">({{order.gestion.tpPorcentaje}}%)</strong></td>
                            <td>{{order.gestion.stopLossPrice}}$ <strong class="text-danger">(-{{order.gestion. distanciaPorcentajeSl}}%)</strong></td>
                            <td class="text-success">{{order.gestion.tp}}$</td>
                            <td class="text-danger">{{order.gestion.sl}}$</td>
                            <td >
                              toyal candles: ({{order.candles.length}}) 
                              <div *ngFor="let candles of order.candles; let i=index" class="d-block">
                                <li><strong> ({{i+1}}) date:{{convertirFechamilesegundosLocal(candles[0])}} </strong></li>
                                <li >open:{{candles[1]}}</li>
                                <li class="text-success">hight: {{candles[2]}}</li>
                                <li class="text-danger">low: {{candles[3]}}</li>
                                <li class="">close: {{candles[4]}}</li>
                              </div>

                            </td>
                            <td>
                              <i (click)="conFirmarDeleteInstancia(order.gestion)"  data-bs-toggle="modal" data-bs-target="#deletePositionOdListLocal" class="bi bi-trash3"></i>
                             
                           
                            </td>
    
                      </tr>
                </ng-container>
                
          </tbody>
     </table>

  </div>  
</div>

 <!-- Modal -->
 <div class="modal fade" id="deletePositionOdListLocal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header ">
            <h1 class="modal-title fs-5 w-100 text-center" id="exampleModalLabel">Â¿Eliminar position de lista local?</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
           <h6><strong>Symbol:</strong> {{dstosInstanciaAeliminar?.symbol}} </h6>
           <h6><strong>side: </strong>{{dstosInstanciaAeliminar?.side}}</h6>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">cancelar</button>
            <button (click)="delete_position_of_list_local()" type="button" data-bs-dismiss="modal" class="btn btn-danger">eliminar</button>
          </div>
        </div>
      </div>
    </div>
    